<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../../img/logo.png">
  
  <title>Example: SCons - Zero Install</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../../style.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Example: SCons";
    var mkdocs_page_input_path = "tools/0compile/example-scons.md";
    var mkdocs_page_url = "/tools/0compile/example-scons/";
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> Zero Install</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../../..">About</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../comparison/">Comparison</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../faq/">FAQ</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../features/">Features</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../perspectives/">Perspectives</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../troubleshooting/">Trouble-shooting</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Basics</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../basics/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../basics/first-launch/">First launch</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../basics/making-shortcuts/">Making shortcuts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../basics/using-apps/">Using apps</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../basics/windows/">Desktop integration</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Details</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../details/">Manual walk-through</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/cache/">Cache and sharing</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/cli/">Command-line interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/distribution-integration/">Distribution integration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/export/">Export</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/file-locations/">File locations</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/os-differences/">OS-specific differences</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/policy-settings/">Policy settings</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/security/">Security</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/servers/">Servers</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/sharing/">Sharing downloads between users</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/sync/">Sync</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/virtual-machines/">Virtual machines</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../details/windows/">Zero Install for Windows</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Developers</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../developers/">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../developers/design/">Design</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../developers/dotnet-api/">.NET API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../developers/json-api/">JSON API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../developers/python-api/">Python API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../developers/solver/">The Solver</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../developers/using-git/">Using Git</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Packaging</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../packaging/">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../packaging/concepts/">Concepts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../packaging/guide-cli/">Packaging guide (command-line)</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../packaging/guide-gui/">Packaging guide (graphical)</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../packaging/local-feeds/">Local feeds</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../packaging/templates/">Templates</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Examples</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../../packaging/examples/dotnet-lib/">.NET library</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../packaging/examples/find/">Find</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../packaging/examples/inkscape/">Inkscape</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../packaging/examples/rox/">ROX-Filer</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Specifications</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../specifications/">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../specifications/capabilities/">Capabilities extension</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../specifications/catalog/">Catalog files</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../specifications/feed/">Feed files</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../specifications/manifest/">Manifest files</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../specifications/selections/">Selections files</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../0bootstrap/">0bootstrap</a>
                </li>
                <li class="">
                    
    <a class="" href="../">0compile</a>
                </li>
                <li class="">
                    
    <a class="" href="../../0export/">0export</a>
                </li>
                <li class="">
                    
    <a class="" href="../../0mirror/">0mirror</a>
                </li>
                <li class="">
                    
    <a class="" href="../../0publish-win/">0publish-win</a>
                </li>
                <li class="">
                    
    <a class="" href="../../0publish/">0publish</a>
                </li>
                <li class="">
                    
    <a class="" href="../../0release/">0release</a>
                </li>
                <li class="">
                    
    <a class="" href="../../0repo/">0repo</a>
                </li>
                <li class="">
                    
    <a class="" href="../../0share/">0share</a>
                </li>
                <li class="">
                    
    <a class="" href="../../0template/">0template</a>
                </li>
                <li class="">
                    
    <a class="" href="../../0test/">0test</a>
                </li>
                <li class="">
                    
    <a class="" href="../../0watch/">0watch</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ebox/">ebox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../feedlint/">FeedLint</a>
                </li>
                <li class="">
                    
    <a class="" href="../../make-headers/">Make-headers</a>
                </li>
                <li class="">
                    
    <a class="" href="../../pkg2zero/">pkg2zero</a>
                </li>
                <li class=" current">
                    
    <span class="caption-text">0compile</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../chroot-build/">Chroot build</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../developers/">Developers</a>
                </li>
                <li class="toctree-l3 current">
                    
    <a class="current" href="./">Example: SCons</a>
    <ul class="subnav">
            
    <li class="toctree-l4"><a href="#building-from-a-git-checkout">Building from a Git checkout</a></li>
    

    </ul>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">0release</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../0release/compiled-binaries/">Compiled binaries</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../0release/customisation/">Customisation</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">Zero Install</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>0compile &raquo;</li>
        
      
        
          <li>Tools &raquo;</li>
        
      
    
    <li>Example: SCons</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/0install/docs/edit/master/docs/tools/0compile/example-scons.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><strong>Name:</strong> Hello-scons<br />
<strong>Maintainer:</strong> Thomas Leonard<br />
<strong>License:</strong> Public domain<br />
<strong>Source:</strong> <a href="https://github.com/0install/hello-scons">Git repository</a><br />
<strong>Zero Install feed:</strong> <a href="http://0install.net/tests/Hello-scons.xml">http://0install.net/tests/Hello-scons.xml</a></p>
<p><strong>Hello-scons</strong> is a simple "Hello world" program written in C. It is built using the <a href="http://www.scons.org/">SCons build tool</a>.</p>
<p>Its purpose is to demonstrate the use of 0compile to fetch build dependencies; you do not need to install SCons manually on your system in order to build it.</p>
<p>This example assumes that you have already read <a href="../">the main 0compile tutorial</a>.</p>
<p>You can try it out by using the <code>setup</code> command as usual:</p>
<pre><code class="shell">$ 0compile setup http://0install.net/tests/Hello-scons.xml Hello-scons
</code></pre>

<p>0compile will create a <code>Hello-scons</code> directory for the build. You will be prompted to choose the versions of Hello-scons and SCons:</p>
<p><img alt="Choosing versions" src="../../../img/screens/hello-scons.png" /></p>
<p>To build, change into the new directory and use the build command:</p>
<pre><code class="shell">$ cd Hello-scons
$ 0compile build
Executing: &quot;$SCONS/scons.py&quot; -f &quot;$SRCDIR/SConstruct&quot; --srcdir=&quot;$SRCDIR&quot; &quot;$DISTDIR&quot;
</code></pre>

<p>This creates a <code>hello-scons-ARCH</code> directory ready for use and/or distribution, and a <code>build</code> directory with some temporary files, such as <code>hello.o</code>. This is used only to speed up later rebuilds.</p>
<p>To run:</p>
<pre><code class="shell">$ 0launch hello-scons-linux-x86_64/0install/Hello-scons.xml
Hello world!
</code></pre>

<p>To see (or modify) a copy of the source:</p>
<pre><code class="shell">$ 0compile copy-src
Copied as '/home/me/Hello-scons/src'
</code></pre>

<p>The main issues with using SCons with 0compile are that:</p>
<ul>
<li>
<p>SCons defaults to saving build files in the source directory. 0compile requires that the source directory is not written to during the build (since the 0install cache is read-only). Therefore, you must use <code>--srcdir</code>.</p>
</li>
<li>
<p>By default, SCons resets all environment variables. This means that instead of compiling against the library versions you chose, it will build against whatever happens to be the default on the system today.</p>
</li>
</ul>
<p>The <code>src/SConstruct</code> file shows how to fix these problems.</p>
<p>For more information (including how to publish the binary using Zero Install), see <a href="../">the main 0compile tutorial</a>.</p>
<h1 id="building-from-a-git-checkout">Building from a Git checkout</h1>
<p>To build the latest Git version of hello-scons:</p>
<pre><code class="shell">$ git clone git://zero-install.git.sourceforge.net/gitroot/zero-install/hello-scons
$ cd hello-scons
$ 0compile build
$ 0launch hello-scons-linux-x86_64/0install/Hello-scons.xml
Hello world!
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../0release/compiled-binaries/" class="btn btn-neutral float-right" title="Compiled binaries">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../developers/" class="btn btn-neutral" title="Developers"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/0install/docs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../developers/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../0release/compiled-binaries/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../menu.js" defer></script>
      <script src="../../../search/main.js" defer></script>

</body>
</html>
