<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/logo.png">
  
  <title>0publish - Zero Install</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../style.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "0publish";
    var mkdocs_page_input_path = "tools/0publish.md";
    var mkdocs_page_url = "/tools/0publish/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Zero Install</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">About</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../comparison/">Comparison</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../faq/">FAQ</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../features/">Features</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../perspectives/">Perspectives</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../troubleshooting/">Trouble-shooting</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Basics</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../basics/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../basics/first-launch/">First launch</a>
                </li>
                <li class="">
                    
    <a class="" href="../../basics/making-shortcuts/">Making shortcuts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../basics/using-apps/">Using apps</a>
                </li>
                <li class="">
                    
    <a class="" href="../../basics/windows/">Desktop integration</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Details</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../details/">Manual walk-through</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/cache/">Cache and sharing</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/cli/">Command-line interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/distribution-integration/">Distribution integration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/export/">Export</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/file-locations/">File locations</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/os-differences/">OS-specific differences</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/policy-settings/">Policy settings</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/security/">Security</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/servers/">Servers</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/sharing/">Sharing downloads between users</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/sync/">Sync</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/virtual-machines/">Virtual machines</a>
                </li>
                <li class="">
                    
    <a class="" href="../../details/windows/">Zero Install for Windows</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Developers</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../developers/">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../developers/design/">Design</a>
                </li>
                <li class="">
                    
    <a class="" href="../../developers/dotnet-api/">.NET API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../developers/json-api/">JSON API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../developers/python-api/">Python API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../developers/solver/">The Solver</a>
                </li>
                <li class="">
                    
    <a class="" href="../../developers/using-git/">Using Git</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Packaging</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../packaging/">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../packaging/concepts/">Concepts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../packaging/guide-cli/">Packaging guide (command-line)</a>
                </li>
                <li class="">
                    
    <a class="" href="../../packaging/guide-gui/">Packaging guide (graphical)</a>
                </li>
                <li class="">
                    
    <a class="" href="../../packaging/local-feeds/">Local feeds</a>
                </li>
                <li class="">
                    
    <a class="" href="../../packaging/templates/">Templates</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Examples</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../packaging/examples/dotnet-lib/">.NET library</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../packaging/examples/find/">Find</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../packaging/examples/inkscape/">Inkscape</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../packaging/examples/rox/">ROX-Filer</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Specifications</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../specifications/">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../specifications/capabilities/">Capabilities extension</a>
                </li>
                <li class="">
                    
    <a class="" href="../../specifications/catalog/">Catalog files</a>
                </li>
                <li class="">
                    
    <a class="" href="../../specifications/feed/">Feed files</a>
                </li>
                <li class="">
                    
    <a class="" href="../../specifications/manifest/">Manifest files</a>
                </li>
                <li class="">
                    
    <a class="" href="../../specifications/selections/">Selections files</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../0bootstrap/">0bootstrap</a>
                </li>
                <li class="">
                    
    <a class="" href="../0compile/">0compile</a>
                </li>
                <li class="">
                    
    <a class="" href="../0export/">0export</a>
                </li>
                <li class="">
                    
    <a class="" href="../0mirror/">0mirror</a>
                </li>
                <li class="">
                    
    <a class="" href="../0publish-win/">0publish-win</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">0publish</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#general-operation">General operation</a></li>
    

    <li class="toctree-l3"><a href="#0publish-reference">0publish reference</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#options">Options</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#faq">FAQ</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#gpg-signing-failed-secret-key-not-available">gpg: signing failed: secret key not available</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../0release/">0release</a>
                </li>
                <li class="">
                    
    <a class="" href="../0repo/">0repo</a>
                </li>
                <li class="">
                    
    <a class="" href="../0share/">0share</a>
                </li>
                <li class="">
                    
    <a class="" href="../0template/">0template</a>
                </li>
                <li class="">
                    
    <a class="" href="../0test/">0test</a>
                </li>
                <li class="">
                    
    <a class="" href="../0watch/">0watch</a>
                </li>
                <li class="">
                    
    <a class="" href="../ebox/">ebox</a>
                </li>
                <li class="">
                    
    <a class="" href="../feedlint/">FeedLint</a>
                </li>
                <li class="">
                    
    <a class="" href="../make-headers/">Make-headers</a>
                </li>
                <li class="">
                    
    <a class="" href="../pkg2zero/">pkg2zero</a>
                </li>
                <li class="">
                    
    <span class="caption-text">0compile</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../0compile/chroot-build/">Chroot build</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../0compile/developers/">Developers</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../0compile/example-scons/">Example: SCons</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">0release</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../0release/compiled-binaries/">Compiled binaries</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../0release/customisation/">Customisation</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Zero Install</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Tools &raquo;</li>
        
      
    
    <li>0publish</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/0install/docs/edit/master/docs/tools/0publish.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><strong>Name:</strong> 0publish<br />
<strong>Maintainer:</strong> Thomas Leonard<br />
<strong>License:</strong> GNU Lesser General Public License<br />
<strong>Source:</strong> <a href="https://github.com/0install/0publish">Git repository</a><br />
<strong>Zero Install feed:</strong> <a href="http://0install.net/2006/interfaces/0publish">http://0install.net/2006/interfaces/0publish</a></p>
<p>Making a new release of your software can be time consuming and error-prone, so you'll probably want to script as much as possible of it. The <strong>0publish</strong> command provides a set of useful transformations for feed files which you can integrate into your release scripts.</p>
<p>However, <strong>0publish is somewhat deprecated</strong>:</p>
<ul>
<li>If you're looking for a graphical environment instead, see <strong>0publish-gui</strong> in <a href="../../packaging/guide-gui/">the packaging guide</a>.</li>
<li>To add a new version of a program to a feed, consider using <a href="../0template/">0template</a> to generate the XML for the new version and <a href="../0repo/">0repo</a> to add it to the master feed.</li>
<li><a href="../0release/">0release</a> provides a more complete solution for managing releases (0release uses 0publish or 0repo internally, but also handles many other aspects of making releases for you).</li>
</ul>
<p><strong>Contents:</strong></p>
<div class="toc">
<ul>
<li><a href="#general-operation">General operation</a></li>
<li><a href="#0publish-reference">0publish reference</a><ul>
<li><a href="#options">Options</a></li>
</ul>
</li>
<li><a href="#faq">FAQ</a><ul>
<li><a href="#gpg-signing-failed-secret-key-not-available">gpg: signing failed: secret key not available</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="general-operation">General operation</h2>
<p><code>0publish</code> edits feed files in place. It loads the file, transforms it in some way (such as setting the release date, or adding a new implementation) and then writes it back out again. If the input file was signed, it will resign it when saving with the same key by default. You can also use it to add a signature, or to change the signing key.</p>
<p>You can create an app for <code>0publish</code> in the usual way:</p>
<pre><code class="shell">$ 0install add 0publish http://0install.net/2006/interfaces/0publish
</code></pre>

<p>The <a href="../0compile/example-scons/">SCons packaging tutorial</a> shows many examples of using <code>0publish</code>.</p>
<h2 id="0publish-reference">0publish reference</h2>
<p>Usage: <code>0publish [options] feed.xml</code></p>
<h3 id="options">Options</h3>
<dl>
<dt><code>-h</code>, <code>--help</code></dt>
<dd>Show help message and exit.</dd>
<dt><code>-a FEED</code>, <code>--add-from=FEED</code></dt>
<dd>Add the implementation(s) in <code>FEED</code> to this one, putting them in the most sensible <code>&lt;group&gt;</code> (so as to minimise duplication of requirements, etc).</dd>
<dt><code>--add-types</code></dt>
<dd>add missing MIME-type attributes.</dd>
<dt><code>--add-version=VERSION</code></dt>
<dd>Add a new implementation (use with <code>--archive-url</code>, etc).</dd>
<dt><code>--archive-url=URL</code>, <code>--archive-file=FILE</code>, <code>--archive-extract=DIR</code></dt>
<dd>Change a local implementation to one with a digest and an archive. See the <a href="../0compile/example-scons/">SCons tutorial</a> for an example.</dd>
<dt><code>-c</code>, <code>--create</code></dt>
<dd>Create a new feed file (if non-existent) without prompting.</dd>
<dt><code>-d ALG</code>, <code>--add-digest=ALG</code></dt>
<dd>Add extra digests using the given algorithm.</dd>
<dt><code>-e</code>, <code>--edit</code></dt>
<dd>Edit with <code>$EDITOR</code>. This is useful if the file is signed, since it removes the signature at the start and resigns at the end. It also checks that the new feed is valid before overwriting the old copy.</dd>
<dt><code>-g</code>, <code>--gpgsign</code></dt>
<dd>Add a GPG signature block. Deprecated; use <code>--xmlsign</code> instead.</dd>
<dt><code>-kKEY</code>, <code>--key=KEY</code></dt>
<dd>Key to use for signing (if you have more than one, or if you want to resign with a different key).</dd>
<dt><code>-lLOCAL</code>, <code>--local=LOCAL</code></dt>
<dd>Deprecated; use <code>--add-from</code> instead.</dd>
<dt><code>--manifest-algorithm=ALG</code></dt>
<dd>Select the algorithm to use for manifest digests.</dd>
<dt><code>--set-id=DIGEST</code></dt>
<dd>Set the implementation ID. Note: it's usually easier to use the <code>--archive-*</code> options, since they calculate the digest for you.</dd>
<dt><code>--set-main=EXEC</code></dt>
<dd>Set the main executable.</dd>
<dt><code>--set-arch=ARCH</code></dt>
<dd>Set the architecture.</dd>
<dt><code>--set-released=DATE</code></dt>
<dd>Set the release date. Typically used as <code>0publish --set-released $(date +%F) feed.xml</code>, which sets today's date.</dd>
<dt><code>--set-stability=STABILITY</code></dt>
<dd>Set the stability rating.</dd>
<dt><code>--set-version=VERSION</code></dt>
<dd>Set the version number (used when making a release from CVS).</dd>
<dt><code>-s</code>, <code>--stable</code></dt>
<dd>Mark the current testing version as stable.</dd>
<dt><code>--select-version=VERSION</code></dt>
<dd>Select version to use in <code>--set-*</code> commands.</dd>
<dt><code>-x</code>, <code>--xmlsign</code></dt>
<dd>Add an XML signature block. All remote feeds must be signed.</dd>
<dt><code>-u</code>, <code>--unsign</code></dt>
<dd>Remove any signature.</dd>
<dt><code>-v</code>, <code>--verbose</code></dt>
<dd>More verbose output (for debugging).</dd>
<dt><code>-V</code>, <code>--version</code></dt>
<dd>Display version information.</dd>
</dl>
<h2 id="faq">FAQ</h2>
<h3 id="gpg-signing-failed-secret-key-not-available">gpg: signing failed: secret key not available</h3>
<p>By default, 0publish tries to sign the new version of the feed using the same key that signed the old version. You will get this error if you don't have this key (e.g. because someone else signed the old version). In that case, use <code>-k</code> to specify they key you want to use instead.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../0release/" class="btn btn-neutral float-right" title="0release">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../0publish-win/" class="btn btn-neutral" title="0publish-win"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/0install/docs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../0publish-win/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../0release/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../menu.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
